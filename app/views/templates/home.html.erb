<% content_for :head do %>
	<script type="text/javascript" src="javascripts/dex2-templates.js"></script>
<% end %>

<div id="template_admin_area" style="width: 100%; display: table;">
	<div style="display: table-row">
		<div style="display: table-cell; border:1px solid black; width: 20%;">
			<h4>Templates</h4>
			<div style="display: table;">
				<!-- ko foreach: templates -->
				<div style="display: table-row">
					<div style="display: table-cell"><span data-bind="text: $data.name, click: $root.selectTemplate"></span></div>
					<div style="display: table-cell"><button data-bind="click: $root.delTemplate">Del</button></div>
				</div>
				<!-- /ko -->
				<div style="display: table-row">
					<div style="display: table-cell"><input type="text" id="template_name" style="width: 80%;" /></div>
					<div style="display: table-cell"><button data-bind="click: $root.addTemplate">Add</button></div>
				</div>
			</div>
		</div>
		<div style="display: table-cell; border:1px solid black;">
			<h4>Template:<nbsp/>
				<span data-bind="text: selectedTemplateName"></span>
			</h4>
			<table class="properties" data-bind="with: selectedTemplate" style="border:1px solid black;">
				<thead><tr><th>Name</th><th>Type</th><th>Validation</th><th>Delete</th></tr></thead>
				<tbody>
					<!-- ko foreach: properties -->
					<tr>
						<td data-bind="text: name" style="border:1px solid black;"></td>
						<td data-bind="text: type" style="border:1px solid black;"></td>
						<td data-bind="text: validation" style="border:1px solid black;"></td>
						<td style="border:1px solid black;">
							<button data-bind="click: $root.deleteProperty">Del</button>
						</td>
					</tr>
					<!-- /ko -->
					<tr>
						<td><input type="text" id="prop_name" /></td>
						<td><select id="prop_type" data-bind="options: Globals.PropertyTypes"></select></td>
						<td><input type="text" id="prop_validation" /></td>
						<td>
							<button data-bind="click: $root.addProperty">Add</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
